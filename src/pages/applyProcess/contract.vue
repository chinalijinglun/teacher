<template>
  <div class="basicinfor">
    <div class="basic-header">
      <div class="step">
        <span class="step1"></span>
        <span class="step2"></span>
        <span class="step3"></span>
      </div>
      <ul>
        <li>Basic Info</li>
        <li>Demo Lesson</li>
        <li>Contract Info</li>
      </ul>
    </div>
    <div class="basic-main contract">
      <h3>
        INDEPENDENT CONTRACTOR AGREEMENT
      </h3>
      <p>
        THIS AGREEMENT executed on this the {{nowDate}}, but agreed to be effective from and after {{effectiveDate}}, by and between Dandelion International Institute, LLC (hereinafter “Company”), and {{`${teacher.first_name} ${teacher.middle_name} ${teacher.last_name}`}}(hereinafter “Contractor”).
        <br/> NOW, THEREFORE, FOR AND IN CONSIDERATION of the mutual promises and agreements contained herein, Company hires Contractor, and Contractor agrees to work for Company under the terms and conditions hereby agreed upon by the parties:
        <br/> SECTION 1 – WORK TO BE PERFORMED 1.1 Term. Company agrees to hire Contractor, at will, for a term commencing on {{effectiveDate}}and continuing until terminated in accordance with Section 4.
        <br/> 1.2 Duties. Contractor agrees to perform work for the Company on the terms and conditions set forth in this agreement, and agrees to devote all necessary time and attention (reasonable periods of illness accepted) to the performance of the duties specified in this agreement. Contractor’s duties shall be as follows:<br/> a. Contractor requires developing a 30-minute "Pre-Lesson Meeting" PowerPoint as part of a demo session for new prospective students to evaluate the teacher. The “Pre-Lesson Meeting” PowerPoint and the very first demo session are not reimbursable. Subsequent demo sessions are reimbursable at 1/2 hourly rate stated in Section 3.1 of this contract. All demo sessions are not to exceed 30 minutes. Additional minutes are not reimbursable and are at the discretion of the contractor. Regular sessions are paid according to the hourly rate stated in Section 3.1 of this contract. All demo and regular sessions require the contractor to complete a written session evaluation of the student and submitted no later than 24 hours after completion of a session.<br/> b. When a student has purchased your lesson package, the contractor must develop a “Teaching Plan” for that student and prepare PowerPoint for all sessions. “Teaching Plan” needs be updated regularly to adapt to student’s progress.<br/> c. PowerPoint must be submitted to the Program Manager at least 48 hours prior to the start of a session for review.<br/> d. Contractor is required to be online live, face to face teaching for a minimum of 50 minutes. Additional minutes are not reimbursable and are solely on Contractor's discretion. A completed session is 50 minutes live teaching and 10 minutes offline to complete the evaluation.<br/> 1.3 Cancel Class<br/> a. When a class session is booked, the contractor may cancel the session 24 hours before the class session starts without penalty. The contractor can make up the lesson at another time.<br/> b. If the contractor cancels the class session less than 24 hours’ notice, the contractor must make up the missed session without compensation. If the session is not made up, the penalty of a session's pay will be deducted from your next earnings.<br/> c. When a class session is booked and the student fails to cancel the class session in advance of a 24-hour notice, the contractor is entitled to a session's pay.
        <br/> 1.4 Tardiness<br/> a. If the contractor is late within 10 minutes of a class session, on the premise it does not affect the next scheduled class session, the contractor can make up the missed minutes in the same session or in another session.<br/> b. If the contractor is late for more than 10 minutes of a class session, it is viewed as canceling a class session within 24 hours. The contractor must make up the missed class session without compensation.<br/> c. If the student is more than 10 minutes late to a class session, it is considered the student has forfeited the class and the contractor is entitled to a full session pay.<br/> 1. 5 Absence<br/> Absence from class is the same method of disposition as late for more than 10 minutes.<br/> 1.6 Missing Time<br/> If the contractor contributed to the reasons that a class is not in session for the full 50 minutes, contractor must make up the loss time to the student. Loss time must be made up before payment can be made.<br/> 1.7 Contractor further agrees that in all such aspects of such work, Contractor shall comply with the policies, standards, regulations of the Company from time to time established, and shall perform the duties assigned faithfully, intelligently, to the best of his/her/their ability, and in the best interest of the Company.<br/> SECTION 2 – CONFIDENTIALITY<br/> 2.1 Confidentiality. Contractor acknowledges and agrees that all financial and accounting records, lists of property owned by Company, including amounts paid therefore, client and customer lists, and other Company data and information related to its business (hereinafter collectively “Confidential Information”) are valuable assets of the Company. Except for disclosures required to be made to advance the business of the Company and information which is a matter of public record, Contractor shall not, during the term of this Agreement or after the termination of this Agreement, disclose any Confidential Information to any person or use any Confidential Information for the benefit of Contractor or any other person, except with the prior written consent of the Company.<br/> 2.2 Return of Documents. Contractor acknowledges and agrees that all originals and copies of records, reports, documents, lists, plans, memoranda, notes and other documentation related to the business of the Company or containing any Confidential Information shall be the sole and exclusive property of the Company, and shall be returned to the Company upon the termination of this Agreement or upon the written request of the Company.<br/> 2.3 Injunction. Contractor agrees that it would be difficult to measure damage to the Company from any breach by Contractor of Section 2.1 or 2.2 and that monetary damages would be an inadequate remedy for such breach. Accordingly, Contractor agrees that if Contractor shall breach Section 2.1 or 2.2, the Company shall be entitled to, in addition to all other remedies it may have at law or equity, to an injunction or other appropriate orders to restrain any such breach, without showing or proving actual damages sustained by the Company.<br/> 2.4 No Release. Contractor agrees that the termination of this Agreement shall not release Contractor from any obligations under Section 2.1 or 2.2.
        <br/> SECTION 3 – COMPENSATION<br/> 3.1 Compensation. In consideration of all services to be rendered by Contractor to the Company, the Company shall pay to the Contractor the sum of ${{teacher.contract_dollar_price}} per hour worked as defined in Section 1.2. Said compensation shall be paid on a bi-weekly basis. (Ref. ATT 1)<br/> 3.2 Withholding; Other Benefits. <br/>Compensation paid pursuant to this Agreement shall not subject to the customary withholding of income taxes and other employment taxes. Contractor shall be solely responsible for reporting and paying any such taxes. The Company shall not provide Contractor with any coverage or participation in the Company’s accident and health insurance, life insurance, disability income insurance, medical expense reimbursement, wage continuation plans, or other fringe benefits provided to regular employees.<br/> 3.3 Expenses. Company shall reimburse Contractor all reasonable and necessary expenses incurred by Contractor in connection with the performance of his duties hereunder, provided, the President or Managing Director of the Company has approved such expenses in advance.<br/> SECTION 4 – TERMINATION<br/> 4.1 Termination at Will. This Agreement may be terminated by the Company immediately, at will, and in the sole discretion of the President of the Company. Contractor may terminate this Agreement upon fourteen (14) days written notice to the Company. This Agreement also may be terminated at any time upon the mutual written agreement of the Company and Contractor.<br/> 4.2 Death. In the event Contractor dies during the term of this Agreement, this Agreement shall terminate, and the Company shall pay to Contractor’s estate the salary which would otherwise be payable to Contractor.<br/> SECTION 5 – INDEPENDENT CONTRACTOR STATUS<br/> Contractor acknowledges that he is an independent contractor and is not an agent, partner, joint venture nor employee of Company. Contractor shall have no authority to bind or otherwise obligate Contractor in any manner nor shall Contractor represent to anyone that it has a right to do so. Contractor further agrees that in the event that the Company suffers any loss or damage as a result of a violation of this provision Contractor shall indemnify and hold harmless the Company form any such loss or damage.<br/> SECTION 6 – REPRESENTATIONS OF WARRANTIES OF CONTRACTOR<br/> Contractor represents and warrants to the Company that there is no employment contract or other contractual obligation to which Contractor is subject which prevents Contractor from entering into this Agreement or from performing fully Contractor’s duties under this Agreement.<br/> SECTION 7 – MISCELLANEOUS PROVISIONS<br/> 7.1 The provisions of this Agreement shall be binding upon and enure to the benefit of the heirs, personal representatives, successors and assigns of the parties. Any provision hereof which imposes upon Contractor or Company an obligation after termination or expiration of this Agreement shall survive termination or expiration hereof and be binding upon Contractor or Company.<br/> 7.2 In the event of a default under this Agreement, the defaulted party shall reimburse the non-defaulting party or parties for all costs and expenses reasonably incurred by the non-defaulting party or parties in connection with the default, including without limitation, attorney’s fees. Additionally, in the event a suit or action is filed to enforce this Agreement or with respect to this Agreement, the prevailing party or parties shall be reimbursed by the other party for all costs and expenses incurred in connection with the suit or action, including without limitation, reasonable attorney’s fees at the trial level and on appeal.<br/> 7.3 No waiver of any provision of this Agreement shall be deemed, or shall constitute, a waiver of any other provision, whether or not similar, nor shall any waiver constitute a continuing waiver. No waiver shall be binding unless executed in writing by the party making the waiver.<br/> 7.4 This Agreement shall be governed by and shall be construed in accordance with the laws of the State of California.<br/> 7.5 This Agreement constitutes the entire agreement between the parties pertaining to its subject matter and it supersedes all prior contemporaneous agreements, representations and understandings of the parties. No supplement, modification or amendment of this Agreement shall be binding unless executed in writing by all parties.<br/> 7.6 By clicking YES box, the Contractor allows the Company to retain the rights to use the Contractor’s PowerPoint for sharing, editing, presentation for lesson and training.<br/>
      </p>

      <div class="contract-write">
        <span>
          <el-radio-group v-model="form.agree">
            <el-radio :label="true">YES</el-radio>
            <el-radio :label="false">NO</el-radio>
          </el-radio-group>
        </span>
        <span>
          Teacher's Name
          <input type="text" v-model="form.name">
        </span>
      </div>
      <div class="contract-button">
        <button @click="sign">
          confirm
        </button>
        <div>
          <span>Download</span>
          <a :href="$baseApiUrl + teacher.contract_url" download="W-9.pdf">Form W-9.pdf</a>
        </div>
      </div>
    </div>
    <assign-confirm :visible.sync="confirmShow" @on-sure="submit"></assign-confirm>
  </div>
</template>
<script>
import { teacherPutByTeacherid } from "@/api/teacher";
import { mapState } from "vuex";
import moment from 'moment';
import assignConfirm from '@/components/dialog/assignConfirm'
export default {
  computed: {
    ...mapState({
      id: state => state.auth.id,
      name: state => state.auth.userName,
      teacher: state => state.userinfo.teacher
    })
  },
  data() {
    return {
      form: {
        agree: true,
        name: ''
      },
      confirmShow: false,
      nowDate: moment().format('LL'),
      effectiveDate: moment().add(7, 'days').format('LL')
    }
  },
  methods: {
    sign() {
      this.confirmShow = true;
    },
    submit() {
      teacherPutByTeacherid(this.id, {
        state: "CONTRACTOR",
        updated_by: this.name,
        updated_at: new Date()
      }).then(resp => {
        this.$message.success("签约成功");
        this.$router.push("/center");
      });
    }
  },
  components: {
    assignConfirm
  }
};
</script>

<style scoped>
.basicinfor {
  width: 1000px;
  min-height: 800px;
  margin: 0 auto 30px;
  overflow: hidden;
  margin-top: 20px;
  background: #ffffff;
}

.basic-header {
  height: 100px;
  margin: 30px 70px;
  border: 1px solid #d8d8d8;
  border-top: none;
}

.step span {
  width: 33.333%;
  display: block;
  height: 5px;
  background: #d8d8d8;
  z-index: 99999;
  float: left;
  position: relative;
}

.step {
  width: 100%;
  border-bottom: 5px solid #ff8200;
}

.step3 {
  background: #ff8200 !important;
}

.step1::after,
.step2::after,
.step3::after {
  content: "";
  display: block;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  position: absolute;
  left: 50%;
  top: -9px;
  margin-left: -12px;
}

.step3::after {
  background-color: #ff8200;
}

.step1::after,
.step2::after {
  background-color: #d8d8d8;
}

.basic-header ul {
  list-style: none;
}

.basic-header ul li {
  float: left;
  width: 33.333%;
  height: 90px;
  line-height: 90px;
  text-align: center;
  font-size: 18px;
  color: #666666;
}

.basic-header ul li:nth-child(3) {
  color: #ff8200;
  font-weight: bold;
}

.basic-main {
  margin: 0 70px;
}
.contract h3 {
  font-size: 18px;
  color: #333333;
  line-height: 32px;
  text-align: center;
}
.contract p {
  font-size: 14px;
  color: #151515;
  line-height: 32px;
}
.contract-write {
  overflow: hidden;
}
.contract-write input[type="text"] {
  width: 188px;
  height: 40px;
  background: #ffffff;
  border: 1px solid #d8d8d8;
  border-radius: 3px;
  outline: none;
  padding-left: 10px;
}
.contract-write input[type="radio"] {
  margin: 5px 0;
}
.contract-write span:first-child {
  float: left;
  margin-left: 1px;
  font-size: 14px;
}
.contract-write span:last-child {
  float: right;
}
.contract-button {
  text-align: center;
  width: 100%;
}
.contract-button button {
  width: 150px;
  height: 40px;
  background: #ff8200;
  border-radius: 5px;
  color: #ffffff;
  font-size: 18px;
  border: none;
  outline: none;
  margin: 0 auto;
}
.contract-button div {
  text-align: center;
  font-size: 14px;
  margin: 25px 0 32px 0;
}
</style>